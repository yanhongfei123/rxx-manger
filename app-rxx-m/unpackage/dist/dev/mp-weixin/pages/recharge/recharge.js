require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([14],{84:function(e,t,n){"use strict";var r=o(n(1)),a=o(n(85));function o(e){return e&&e.__esModule?e:{default:e}}Page((0,r.default)(a.default))},85:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(87),a=n.n(r),o=n(88),s=!1;var i=function(e){s||n(86)},c=n(0)(a.a,o.a,i,null,null);c.options.__file="..\\..\\..\\app-rxx-m\\pages\\recharge\\recharge.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] recharge.vue: functional components are not supported with templates, they should use render functions."),t.default=c.exports},86:function(e,t){},87:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(9)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(3),s=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,o){try{var s=t[a](o),i=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}t.default={components:{uniInput:s.default},data:function(){return{chargeTypeIndex:0,chargeAmountIndex:0,rechargeAmountTextList:["30元","50元","100元","200元","500元","其他金额"],rechargeAmountList:[30,50,100,200,500,""],otherAmount:"",rechargeAmount:""}},computed:a({},(0,o.mapState)(["token"])),methods:{selectRechargeAmount:function(e,t){this.chargeAmountIndex=t,this.rechargeAmount=this.rechargeAmountList[t]},chooseChargeType:function(e){this.chargeTypeIndex=e},weixinRecharge:function(){var t,n=this;""!=this.otherAmount?this.rechargeAmount=this.otherAmount:this.rechargeAmount=this.rechargeAmountList[this.chargeAmountIndex],e.login({success:(t=c(r.default.mark(function t(a){var o,s,i;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.API.weixinLogin({code:a.code,token:n.token});case 2:return o=t.sent,t.next=5,n.API.weixinPay({amount:n.rechargeAmount,openid:o.data.data.openid,token:n.token});case 5:s=t.sent,i=s.data,e.requestPayment({timeStamp:String(i.timeStamp),nonceStr:i.nonceStr,package:i.package,signType:"MD5",paySign:i.paySign,success:function(t){e.showToast({title:"支付成功!"})},fail:function(t){e.showModal({content:"支付失败,原因为: "+t.errMsg,showCancel:!1})}});case 8:case"end":return t.stop()}},t,n)})),function(e){return t.apply(this,arguments)}),fail:function(t){console.log("fail",t),e.showModal({content:"微信登陆失败,原因为: "+t.errMsg,showCancel:!1})}})},recharge:function(){var t=this;return c(r.default.mark(function n(){var a,o,s;return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t,o="",s="",""!=t.otherAmount?t.rechargeAmount=t.otherAmount:t.rechargeAmount=t.rechargeAmountList[t.chargeAmountIndex],0!=t.chargeTypeIndex){n.next=10;break}return o="wxpay",n.next=7,t.API.CreateAliPayOrder({amount:t.rechargeAmount});case 7:s=n.sent,n.next=14;break;case 10:return o="alipay",n.next=13,t.API.CreateAliPayOrder({amount:t.rechargeAmount});case 13:s=n.sent;case 14:e.requestPayment({provider:o,orderInfo:s.message.data,success:function(e){a.Util.Toast.toast("支付成功")},fail:function(e){a.Util.Toast.toast("支付失败:"+JSON.stringify(e))}});case 15:case"end":return n.stop()}},n,t)}))()}},onLoad:function(){}}}).call(t,n(2).default)},88:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:"content"},[n("view",{staticClass:"pad30"},[n("view",{staticClass:"title"},[e._v("请选择充值金额")]),n("view",{staticClass:"uni-list"},e._l(e.rechargeAmountTextList,function(t,r){return n("view",{key:r,staticClass:"uni-list-cell",class:["其他金额"==t?"colo_A4A3AC":"",e.chargeAmountIndex==r?"selected":""],attrs:{eventid:"TQe-1-"+r},on:{tap:function(n){e.selectRechargeAmount(t,r)}}},[n("view","其他金额"!==t?[e._v(e._s(t))]:[n("input",{directives:[{name:"model",rawName:"v-model",value:e.otherAmount,expression:"otherAmount"}],attrs:{"placeholder-style":"color:#A4A3AC",placeholder:"其他金额",type:"number",eventid:"xeg-0-"+r},domProps:{value:e.otherAmount},on:{input:function(t){t.target.composing||(e.otherAmount=t.target.value)}}})])])}))]),n("view",{staticClass:"line"}),n("view",{staticClass:"pad30"},[n("view",{staticClass:"recharge-list"},[n("view",{staticClass:"recharge-item",class:[0==e.chargeTypeIndex?"choosed":""]},[e._m(0),e._m(1)])])]),n("button",{attrs:{type:"primary",id:"primary","hover-class":"other-button-hover",eventid:"XWc-2"},on:{tap:e.weixinRecharge}},[e._v("立即充值")])],1)};r._withStripped=!0;var a={render:r,staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:"recharge-type"},[t("image",{staticClass:"vm weixin-icon",attrs:{src:"../../static/img/img/weixin.png",mode:"widthFix"}}),t("view",{staticClass:"recharge-weixin vm"},[this._v("微信支付")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:"select-btn"},[t("image",{attrs:{src:"../../static/img/img/choosed.png",mode:"widthFix"}})])}]};t.a=a}},[84]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/recharge/recharge.js.map