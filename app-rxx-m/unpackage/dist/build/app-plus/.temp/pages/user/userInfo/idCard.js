require("../../../common/manifest.js");
require("../../../common/vendor.js");
global.webpackJsonp([6],{109:function(t,a,i){"use strict";var e=c(i(1)),n=c(i(110));function c(t){return t&&t.__esModule?t:{default:t}}Page((0,e.default)(n.default))},110:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i(112),n=i.n(e),c=i(113);var r=function(t){i(111)},s=i(0)(n.a,c.a,r,null,null);a.default=s.exports},111:function(t,a){},112:function(t,a,i){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0});var e=i(5);a.default={data:function(){return{uploadAmount:0,disabled:!0,idcardFront:"/static/img/idcard-front.png",idcardBack:"/static/img/idcard-back.png"}},methods:{confirm:function(){t.navigateBack()},upload:function(a){var i=this;t.chooseImage({count:1,success:function(n){i.Util.Toast.showLoading("上传中...");var c=n.tempFilePaths;t.uploadFile({url:e.API_DOMAIN+"/uploadfile",filePath:c[0],name:"file",success:function(e){var n=JSON.parse(e.data).data;"front"==a?(i.idcardFront=n,t.setStorageSync("idcardFront",n)):(i.idcardBack=n,t.setStorageSync("idcardBack",n)),-1!=i.idcardFront.indexOf("http")&&-1!=i.idcardBack.indexOf("http")&&(i.disabled=!1)},fail:function(){i.Util.Toast.hideLoading(),i.Util.Toast.toast("上传失败"),console.log("上传失败")}}).onProgressUpdate(function(t){100==t.progress&&(i.Util.Toast.hideLoading(),i.Util.Toast.toast("上传成功"))})}})}},onShow:function(){var a,i,e=t.getStorageSync("userInfo");a=e&&JSON.parse(e).manger.ID_PHOTO?JSON.parse(e).manger.ID_PHOTO:t.getStorageSync("idcardFront"),i=e&&JSON.parse(e).manger.ID_PHOTO_Negative?JSON.parse(e).manger.ID_PHOTO_Negative:t.getStorageSync("idcardBack"),this.idcardFront=a||"/static/img/idcard-front.png",this.idcardBack=i||"/static/img/idcard-back.png",this.disabled=!a||!i}}}).call(a,i(2).default)},113:function(t,a,i){"use strict";var e={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("view",{staticClass:"content"},[i("view",{staticClass:"upload-title"},[t._v("上传身份证")]),i("view",{staticClass:"upload-wrap"},[i("view",{staticClass:"front",attrs:{eventid:"oFO-0"},on:{tap:function(a){t.upload("front")}}},[i("image",{staticClass:"icon-card icon",attrs:{src:t.idcardFront}})]),i("view",{staticClass:"back",attrs:{eventid:"hC3-1"},on:{tap:function(a){t.upload("back")}}},[i("image",{staticClass:"icon-card icon",attrs:{src:t.idcardBack}})])]),i("view",{staticClass:"btn-row"},[i("button",{staticClass:"btn-upload",attrs:{type:"primary",disabled:t.disabled,eventid:"K1a-2"},on:{tap:t.confirm}},[t._v("完成")])],1)])},staticRenderFns:[]};a.a=e}},[109]);